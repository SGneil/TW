<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <title>朝陽資工程檢參考範例-第一題</title>
        <link href="style.css" rel="stylesheet" type="text/css">
    </head>
    <body>

        <nav>    
            <ul>
                <li>
                    <form action="page.html">
                        <input class="touch" type="submit" value="目錄" />
                    </form>
                </li>
                <li >
                    <form  action="https://csie.cyut.edu.tw/p/405-1044-11629,c811.php?Lang=zh-tw">
                        <input class="touch" type="submit" value="朝陽資工程檢練習平台" />
                    </form>
                </li>
                <li>
                    <form action="home.html">
                        <input class="touch" type="submit" value="首頁HOME" />
                    </form>
                </li>
                <li style="float: left; padding-right: 200px;">
                    <form>
                        <input type="submit" value="朝陽資工程檢參考範例 - 第一題" />
                    </form>
                </li>
                <li style="float: left;">
                    <form action="question2.html">
                        <input class="touch" type="submit" value="下一題" />
                    </form>
                </li>
            </ul>
        </nav>

        <table>
            <tr>
                <td class="table_title">題目</td>
                <td class="table_title">程式碼</td>
            </tr>

            <tr>
                <td class="display" valign="top">
                    <h4>
                        請寫一個程式，從資料檔(a.txt)讀入一個正整數，把它的所有質因數找出來。<br />
                        例如：如果輸入是 72，因為 72=23×32，於是質因數就有 2 與 3，如果輸入是 181944，因為181944=192×7×32×23，於是質因數就有 19，7，3 與 2。<br />
                        為方便見，192×7×32×23，使用 19(2)7(1)3(2)2(3)作輸出。<br />
                        也就是說，ab 輸出為 a(b)。<br />
                        <br />
                        範例輸入：<br />
                        181944<br />
                        範例輸出：<br />
                        181944<br />
                        Ans=19(2)7(1)3(2)2(3)<br />
                        <br />
                        (0)<br />
                        範例輸入：<br />
                        6586467<br />
                        範例輸出：<br />
                        658646<br />
                        Ans=27791(1)79(1)3(1)<br />
                        <br />
                        (1)<br />
                        範例輸入：<br />
                        72<br />
                        範例輸出：<br />
                        72<br />
                        Ans=3(2)2(3)<br />
                        <br />
                        (2)<br />
                        範例輸入：<br />
                        3894768<br />
                        範例輸出：<br />
                        3894768<br />
                        Ans=43(1)37(1)17(1)3(2)2(4)<br />
                        <br />
                        (3)<br />
                        範例輸入：<br />
                        55664452<br />
                        範例輸出：<br />
                        55664452<br />
                        Ans=12007(1)61(1)19(1)2(2)<br />
                    </h4>
                </td>
                <td class="word" valign="top">
<pre style="color:#000000;"><span style="color:#004a43; ">#</span><span style="color:#004a43; ">include </span><span style="color:#800000; ">&lt;</span><span style="color:#40015a; ">stdio.h</span><span style="color:#800000; ">&gt;</span>
<span style="color:#004a43; ">#</span><span style="color:#004a43; ">include </span><span style="color:#800000; ">&lt;</span><span style="color:#40015a; ">math.h</span><span style="color:#800000; ">&gt;</span>
<span style="color:#004a43; ">#</span><span style="color:#004a43; ">include </span><span style="color:#800000; ">&lt;</span><span style="color:#40015a; ">stdlib.h</span><span style="color:#800000; ">&gt;</span>

<span style="color:#800000; font-weight:bold; ">int</span> is_prime<span style="color:#808030; ">(</span><span style="color:#800000; font-weight:bold; ">int</span> num<span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>             <span style="color:#696969; ">// 判斷是否為質數</span>
    <span style="color:#800000; font-weight:bold; ">if</span> <span style="color:#808030; ">(</span>num <span style="color:#808030; ">&lt;</span><span style="color:#808030; ">=</span> <span style="color:#008c00; ">1</span><span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
        <span style="color:#800000; font-weight:bold; ">return</span> <span style="color:#008c00; ">0</span><span style="color:#800080; ">;</span>
    <span style="color:#800080; ">}</span>
    <span style="color:#800000; font-weight:bold; ">for</span> <span style="color:#808030; ">(</span><span style="color:#800000; font-weight:bold; ">int</span> i <span style="color:#808030; ">=</span> <span style="color:#008c00; ">2</span><span style="color:#800080; ">;</span> i <span style="color:#808030; ">&lt;</span><span style="color:#808030; ">=</span> <span style="color:#603000; ">sqrt</span><span style="color:#808030; ">(</span>num<span style="color:#808030; ">)</span><span style="color:#800080; ">;</span> i<span style="color:#808030; ">+</span><span style="color:#808030; ">+</span><span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
        <span style="color:#800000; font-weight:bold; ">if</span> <span style="color:#808030; ">(</span>num <span style="color:#808030; ">%</span> i <span style="color:#808030; ">=</span><span style="color:#808030; ">=</span> <span style="color:#008c00; ">0</span><span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
            <span style="color:#800000; font-weight:bold; ">return</span> <span style="color:#008c00; ">0</span><span style="color:#800080; ">;</span>
        <span style="color:#800080; ">}</span>
    <span style="color:#800080; ">}</span>
    <span style="color:#800000; font-weight:bold; ">return</span> <span style="color:#008c00; ">1</span><span style="color:#800080; ">;</span>
<span style="color:#800080; ">}</span>

<span style="color:#800000; font-weight:bold; ">int</span> show_ans<span style="color:#808030; ">(</span><span style="color:#800000; font-weight:bold; ">int</span> num<span style="color:#808030; ">,</span> <span style="color:#800000; font-weight:bold; ">int</span> prime<span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>  <span style="color:#696969; ">// 照要求的a(b)格式輸出答案</span>
    <span style="color:#800000; font-weight:bold; ">int</span> count <span style="color:#808030; ">=</span> <span style="color:#008c00; ">0</span><span style="color:#800080; ">;</span>
    <span style="color:#800000; font-weight:bold; ">while</span> <span style="color:#808030; ">(</span>num <span style="color:#808030; ">%</span> prime <span style="color:#808030; ">=</span><span style="color:#808030; ">=</span> <span style="color:#008c00; ">0</span><span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
        count<span style="color:#808030; ">+</span><span style="color:#808030; ">+</span><span style="color:#800080; ">;</span>
        num <span style="color:#808030; ">/</span><span style="color:#808030; ">=</span> prime<span style="color:#800080; ">;</span>
    <span style="color:#800080; ">}</span>
    <span style="color:#603000; ">printf</span><span style="color:#808030; ">(</span><span style="color:#800000; ">"</span><span style="color:#007997; ">%d</span><span style="color:#0000e6; ">(</span><span style="color:#007997; ">%d</span><span style="color:#0000e6; ">)</span><span style="color:#800000; ">"</span><span style="color:#808030; ">,</span> prime<span style="color:#808030; ">,</span> count<span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>
    <span style="color:#800000; font-weight:bold; ">return</span> num<span style="color:#800080; ">;</span>
<span style="color:#800080; ">}</span>

<span style="color:#800000; font-weight:bold; ">int</span> <span style="color:#400000; ">main</span><span style="color:#808030; ">(</span><span style="color:#800000; font-weight:bold; ">void</span><span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
    <span style="color:#800000; font-weight:bold; ">int</span> num<span style="color:#808030; ">,</span> value<span style="color:#800080; ">;</span>
    <span style="color:#603000; ">scanf</span><span style="color:#808030; ">(</span><span style="color:#800000; ">"</span><span style="color:#007997; ">%d</span><span style="color:#800000; ">"</span><span style="color:#808030; ">,</span> <span style="color:#808030; ">&amp;</span>num<span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>
    value <span style="color:#808030; ">=</span> num <span style="color:#808030; ">/</span> <span style="color:#008c00; ">2</span><span style="color:#800080; ">;</span>
    <span style="color:#603000; ">printf</span><span style="color:#808030; ">(</span><span style="color:#800000; ">"</span><span style="color:#007997; ">%d</span><span style="color:#0f69ff; ">\n</span><span style="color:#800000; ">"</span><span style="color:#808030; ">,</span> num<span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>
    <span style="color:#603000; ">printf</span><span style="color:#808030; ">(</span><span style="color:#800000; ">"</span><span style="color:#0000e6; ">Ans=</span><span style="color:#800000; ">"</span><span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>
    <span style="color:#800000; font-weight:bold; ">for</span> <span style="color:#808030; ">(</span><span style="color:#800000; font-weight:bold; ">int</span> i <span style="color:#808030; ">=</span> value<span style="color:#800080; ">;</span> i <span style="color:#808030; ">&gt;</span><span style="color:#808030; ">=</span> <span style="color:#008c00; ">1</span><span style="color:#800080; ">;</span> i<span style="color:#808030; ">-</span><span style="color:#808030; ">-</span><span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
        <span style="color:#800000; font-weight:bold; ">if</span> <span style="color:#808030; ">(</span>i <span style="color:#808030; ">=</span><span style="color:#808030; ">=</span> <span style="color:#008c00; ">1</span> <span style="color:#808030; ">&amp;</span><span style="color:#808030; ">&amp;</span> is_prime<span style="color:#808030; ">(</span>num<span style="color:#808030; ">)</span><span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
            show_ans<span style="color:#808030; ">(</span>num<span style="color:#808030; ">,</span> num<span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>
        <span style="color:#800080; ">}</span>
        <span style="color:#800000; font-weight:bold; ">else</span> <span style="color:#800000; font-weight:bold; ">if</span> <span style="color:#808030; ">(</span>num <span style="color:#808030; ">%</span> i <span style="color:#808030; ">=</span><span style="color:#808030; ">=</span> <span style="color:#008c00; ">0</span> <span style="color:#808030; ">&amp;</span><span style="color:#808030; ">&amp;</span> is_prime<span style="color:#808030; ">(</span>i<span style="color:#808030; ">)</span><span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
            num <span style="color:#808030; ">=</span> show_ans<span style="color:#808030; ">(</span>num<span style="color:#808030; ">,</span> i<span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>
        <span style="color:#800080; ">}</span>
    <span style="color:#800080; ">}</span>
    <span style="color:#603000; ">printf</span><span style="color:#808030; ">(</span><span style="color:#800000; ">"</span><span style="color:#0f69ff; ">\n</span><span style="color:#800000; ">"</span><span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>

    <span style="color:#800000; font-weight:bold; ">return</span> <span style="color:#008c00; ">0</span><span style="color:#800080; ">;</span>
<span style="color:#800080; ">}</span>
</pre>                      
                </td>
            </tr>

        </table>

    </body>
</html>