<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <title>朝陽資工程檢參考範例-第二題</title>
        <link href="style.css" rel="stylesheet" type="text/css">
    </head>
    <body>

        <nav>    
            <ul>
                <li>
                    <form action="page.html">
                        <input class="touch" type="submit" value="目錄" />
                    </form>
                </li>
                <li >
                    <form  action="https://csie.cyut.edu.tw/p/405-1044-11629,c811.php?Lang=zh-tw">
                        <input class="touch" type="submit" value="朝陽資工程檢練習平台" />
                    </form>
                </li>
                <li>
                    <form action="home.html">
                        <input class="touch" type="submit" value="首頁HOME" />
                    </form>
                </li>
                <li style="float: left;">
                    <from>
                        <input style="padding-right: 100px;" type="submit" value="朝陽資工程檢參考範例 - 第二題" />
                    </from>
                </li>
                <li style="float: left;">
                    <form action="question1.html">
                        <input class="touch" type="submit" value="上一題" />
                    </form>
                </li>
                <li style="float: left;">
                    <form action="question3.html">
                        <input class="touch" type="submit" value="下一題" />
                    </form>
                </li>
            </ul>
        </nav>

        <table>
            <tr>
                <td class="table_title">題目</td>
                <td class="table_title">程式碼</td>
            </tr>

            <tr>
                <td class="display" valign="top">
                    <h4>
                        對於一個字串若起始字元為 A，最後字元為 L，且其間不含任何 A 或 L 字元則稱 AL 字串。<br />
                        例如：A PENCIL 或 A XXBBHCL 請設計一程式能從資料檔 b.txt 讀入一個字串（不超過 200 個字元)，然後消去所有可能的 AL 字串，使得消去後之輸出不包含 AL 字串。<br />
                        <br />
                        範例輸入：<br />
                        This is a ball<br />
                        範例輸出：<br />
                        This is a ball<br />
                        Ans=This is <br />
                        <br />
                        (0)<br />
                        範例輸入：<br />
                        This is a ball<br />
                        範例輸出：<br />
                        This is a ball<br />
                        Ans=This is <br />
                        <br />
                        (1)<br />
                        範例輸入：<br />
                        That is a special ball<br />
                        範例輸出：<br />
                        That is a special ball<br />
                        Ans=That is <br />
                        <br />
                        (2)<br />
                        範例輸入：<br />
                        aaaaaaaaaaaaaaalllllllalllllll<br />
                        範例輸出：<br />
                        aaaaaaaaaaaaaaalllllllalllllll<br />
                        Ans=aa<br />
                    </h4>
                </td>
                <td class="word" valign="top">
<pre style="color:#000000;"><span style="color:#004a43; ">#</span><span style="color:#004a43; ">include </span><span style="color:#800000; ">&lt;</span><span style="color:#40015a; ">stdio.h</span><span style="color:#800000; ">&gt;</span>
<span style="color:#004a43; ">#</span><span style="color:#004a43; ">include </span><span style="color:#800000; ">&lt;</span><span style="color:#40015a; ">stdlib.h</span><span style="color:#800000; ">&gt;</span>
<span style="color:#004a43; ">#</span><span style="color:#004a43; ">include </span><span style="color:#800000; ">&lt;</span><span style="color:#40015a; ">string.h</span><span style="color:#800000; ">&gt;</span>

<span style="color:#800000; font-weight:bold; ">int</span> is_check_AL<span style="color:#808030; ">(</span><span style="color:#800000; font-weight:bold; ">char</span> str<span style="color:#808030; ">[</span><span style="color:#008c00; ">201</span><span style="color:#808030; ">]</span><span style="color:#808030; ">,</span> <span style="color:#800000; font-weight:bold; ">int</span> len<span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>     <span style="color:#696969; ">// 確認還有沒有AL字串可以成立</span>
    <span style="color:#800000; font-weight:bold; ">for</span> <span style="color:#808030; ">(</span><span style="color:#800000; font-weight:bold; ">int</span> i <span style="color:#808030; ">=</span> <span style="color:#008c00; ">0</span><span style="color:#800080; ">;</span> i <span style="color:#808030; ">&lt;</span> len<span style="color:#800080; ">;</span> i<span style="color:#808030; ">+</span><span style="color:#808030; ">+</span><span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
        <span style="color:#800000; font-weight:bold; ">if</span> <span style="color:#808030; ">(</span>str<span style="color:#808030; ">[</span>i<span style="color:#808030; ">]</span> <span style="color:#808030; ">=</span><span style="color:#808030; ">=</span> <span style="color:#0000e6; ">'a'</span> <span style="color:#808030; ">|</span><span style="color:#808030; ">|</span> str<span style="color:#808030; ">[</span>i<span style="color:#808030; ">]</span> <span style="color:#808030; ">=</span><span style="color:#808030; ">=</span> <span style="color:#0000e6; ">'A'</span><span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
            <span style="color:#800000; font-weight:bold; ">for</span> <span style="color:#808030; ">(</span><span style="color:#800000; font-weight:bold; ">int</span> j <span style="color:#808030; ">=</span> i<span style="color:#800080; ">;</span> j <span style="color:#808030; ">&lt;</span> len<span style="color:#800080; ">;</span> j<span style="color:#808030; ">+</span><span style="color:#808030; ">+</span><span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
                <span style="color:#800000; font-weight:bold; ">if</span> <span style="color:#808030; ">(</span>str<span style="color:#808030; ">[</span>j<span style="color:#808030; ">]</span> <span style="color:#808030; ">=</span><span style="color:#808030; ">=</span> <span style="color:#0000e6; ">'l'</span> <span style="color:#808030; ">|</span><span style="color:#808030; ">|</span> str<span style="color:#808030; ">[</span>j<span style="color:#808030; ">]</span> <span style="color:#808030; ">=</span><span style="color:#808030; ">=</span> <span style="color:#0000e6; ">'L'</span><span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
                    <span style="color:#800000; font-weight:bold; ">return</span> <span style="color:#008c00; ">1</span><span style="color:#800080; ">;</span>
                <span style="color:#800080; ">}</span>
                <span style="color:#800000; font-weight:bold; ">else</span> <span style="color:#800000; font-weight:bold; ">if</span> <span style="color:#808030; ">(</span>j <span style="color:#808030; ">=</span><span style="color:#808030; ">=</span> len <span style="color:#808030; ">-</span> <span style="color:#008c00; ">1</span><span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
                    <span style="color:#800000; font-weight:bold; ">return</span> <span style="color:#008c00; ">0</span><span style="color:#800080; ">;</span>
                <span style="color:#800080; ">}</span>
            <span style="color:#800080; ">}</span>
        <span style="color:#800080; ">}</span>
    <span style="color:#800080; ">}</span>
    <span style="color:#800000; font-weight:bold; ">return</span> <span style="color:#008c00; ">0</span><span style="color:#800080; ">;</span>
<span style="color:#800080; ">}</span>

<span style="color:#800000; font-weight:bold; ">int</span> is_check_L<span style="color:#808030; ">(</span><span style="color:#800000; font-weight:bold; ">char</span> str<span style="color:#808030; ">[</span><span style="color:#008c00; ">201</span><span style="color:#808030; ">]</span><span style="color:#808030; ">,</span> <span style="color:#800000; font-weight:bold; ">int</span> len<span style="color:#808030; ">,</span> <span style="color:#800000; font-weight:bold; ">int</span> temp_l<span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>    <span style="color:#696969; ">// 確認找到的L字元可不可以成立AL字串</span>
    <span style="color:#800000; font-weight:bold; ">for</span> <span style="color:#808030; ">(</span><span style="color:#800000; font-weight:bold; ">int</span> i <span style="color:#808030; ">=</span> temp_l<span style="color:#800080; ">;</span> i <span style="color:#808030; ">&gt;</span><span style="color:#808030; ">=</span> <span style="color:#008c00; ">0</span><span style="color:#800080; ">;</span> i<span style="color:#808030; ">-</span><span style="color:#808030; ">-</span><span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
        <span style="color:#800000; font-weight:bold; ">if</span> <span style="color:#808030; ">(</span>str<span style="color:#808030; ">[</span>i<span style="color:#808030; ">]</span> <span style="color:#808030; ">=</span><span style="color:#808030; ">=</span> <span style="color:#0000e6; ">'a'</span> <span style="color:#808030; ">|</span><span style="color:#808030; ">|</span> str<span style="color:#808030; ">[</span>i<span style="color:#808030; ">]</span> <span style="color:#808030; ">=</span><span style="color:#808030; ">=</span> <span style="color:#0000e6; ">'A'</span><span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
            <span style="color:#800000; font-weight:bold; ">return</span> <span style="color:#008c00; ">1</span><span style="color:#800080; ">;</span>
        <span style="color:#800080; ">}</span>
    <span style="color:#800080; ">}</span>
    <span style="color:#800000; font-weight:bold; ">return</span> <span style="color:#008c00; ">0</span><span style="color:#800080; ">;</span>
<span style="color:#800080; ">}</span>

<span style="color:#800000; font-weight:bold; ">int</span> <span style="color:#400000; ">main</span><span style="color:#808030; ">(</span><span style="color:#800000; font-weight:bold; ">void</span><span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
    <span style="color:#800000; font-weight:bold; ">char</span> str<span style="color:#808030; ">[</span><span style="color:#008c00; ">201</span><span style="color:#808030; ">]</span><span style="color:#808030; ">,</span> temp_str<span style="color:#808030; ">[</span><span style="color:#008c00; ">201</span><span style="color:#808030; ">]</span><span style="color:#800080; ">;</span>
    <span style="color:#603000; ">gets</span><span style="color:#808030; ">(</span>str<span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>
    <span style="color:#800000; font-weight:bold; ">int</span> len <span style="color:#808030; ">=</span> <span style="color:#603000; ">strlen</span><span style="color:#808030; ">(</span>str<span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>
    <span style="color:#603000; ">printf</span><span style="color:#808030; ">(</span><span style="color:#800000; ">"</span><span style="color:#007997; ">%s</span><span style="color:#0f69ff; ">\n</span><span style="color:#800000; ">"</span><span style="color:#808030; ">,</span> str<span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>

    <span style="color:#800000; font-weight:bold; ">while</span> <span style="color:#808030; ">(</span>is_check_AL<span style="color:#808030; ">(</span>str<span style="color:#808030; ">,</span> len<span style="color:#808030; ">)</span><span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
        <span style="color:#800000; font-weight:bold; ">int</span> temp_a <span style="color:#808030; ">=</span> <span style="color:#008c00; ">0</span><span style="color:#808030; ">,</span> temp_l <span style="color:#808030; ">=</span> <span style="color:#008c00; ">0</span><span style="color:#808030; ">,</span> temp_len <span style="color:#808030; ">=</span> len<span style="color:#800080; ">;</span>  <span style="color:#696969; ">// temp_a跟temp_l的範圍就是要刪除AL字串</span>

        <span style="color:#696969; ">// 找尋第一個符合AL字串的L或l字元，並存索引值到temp_l變數中</span>
        <span style="color:#800000; font-weight:bold; ">for</span> <span style="color:#808030; ">(</span><span style="color:#800000; font-weight:bold; ">int</span> i <span style="color:#808030; ">=</span> <span style="color:#008c00; ">0</span><span style="color:#800080; ">;</span> i <span style="color:#808030; ">&lt;</span> len<span style="color:#800080; ">;</span> i<span style="color:#808030; ">+</span><span style="color:#808030; ">+</span><span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
            <span style="color:#800000; font-weight:bold; ">if</span> <span style="color:#808030; ">(</span>str<span style="color:#808030; ">[</span>i<span style="color:#808030; ">]</span> <span style="color:#808030; ">=</span><span style="color:#808030; ">=</span> <span style="color:#0000e6; ">'l'</span> <span style="color:#808030; ">|</span><span style="color:#808030; ">|</span> str<span style="color:#808030; ">[</span>i<span style="color:#808030; ">]</span> <span style="color:#808030; ">=</span><span style="color:#808030; ">=</span> <span style="color:#0000e6; ">'L'</span><span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
                temp_l <span style="color:#808030; ">=</span> i<span style="color:#800080; ">;</span>
                <span style="color:#800000; font-weight:bold; ">if</span> <span style="color:#808030; ">(</span>is_check_L<span style="color:#808030; ">(</span>str<span style="color:#808030; ">,</span> len<span style="color:#808030; ">,</span> temp_l<span style="color:#808030; ">)</span><span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
                    <span style="color:#800000; font-weight:bold; ">break</span><span style="color:#800080; ">;</span>
                <span style="color:#800080; ">}</span>
            <span style="color:#800080; ">}</span>
        <span style="color:#800080; ">}</span>

        <span style="color:#696969; ">// 找尋tmep_l變數存的索引值前第一個A或a字元，並存索引值到temp_a變數中</span>
        <span style="color:#800000; font-weight:bold; ">for</span> <span style="color:#808030; ">(</span><span style="color:#800000; font-weight:bold; ">int</span> i <span style="color:#808030; ">=</span> temp_l<span style="color:#800080; ">;</span> i <span style="color:#808030; ">&gt;</span><span style="color:#808030; ">=</span> <span style="color:#008c00; ">0</span><span style="color:#800080; ">;</span> i<span style="color:#808030; ">-</span><span style="color:#808030; ">-</span><span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
            <span style="color:#800000; font-weight:bold; ">if</span> <span style="color:#808030; ">(</span>str<span style="color:#808030; ">[</span>i<span style="color:#808030; ">]</span> <span style="color:#808030; ">=</span><span style="color:#808030; ">=</span> <span style="color:#0000e6; ">'a'</span> <span style="color:#808030; ">|</span><span style="color:#808030; ">|</span> str<span style="color:#808030; ">[</span>i<span style="color:#808030; ">]</span> <span style="color:#808030; ">=</span><span style="color:#808030; ">=</span> <span style="color:#0000e6; ">'A'</span><span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
                temp_a <span style="color:#808030; ">=</span> i<span style="color:#800080; ">;</span>
                <span style="color:#800000; font-weight:bold; ">break</span><span style="color:#800080; ">;</span>
            <span style="color:#800080; ">}</span>
        <span style="color:#800080; ">}</span>

        <span style="color:#696969; ">// 把temp_a跟temp_l範圍外的字元(不包括temp_a跟temp_l)，存到tmep_str字串陣列中</span>
        <span style="color:#696969; ">// temp_len計算刪除AL字串後的長度</span>
        <span style="color:#800000; font-weight:bold; ">for</span> <span style="color:#808030; ">(</span><span style="color:#800000; font-weight:bold; ">int</span> i <span style="color:#808030; ">=</span> <span style="color:#008c00; ">0</span><span style="color:#808030; ">,</span> j <span style="color:#808030; ">=</span> <span style="color:#008c00; ">0</span><span style="color:#800080; ">;</span> i <span style="color:#808030; ">&lt;</span> len<span style="color:#800080; ">;</span> i<span style="color:#808030; ">+</span><span style="color:#808030; ">+</span><span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
            <span style="color:#800000; font-weight:bold; ">if</span> <span style="color:#808030; ">(</span>i <span style="color:#808030; ">&lt;</span> temp_a <span style="color:#808030; ">|</span><span style="color:#808030; ">|</span> i <span style="color:#808030; ">&gt;</span> temp_l<span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
                temp_str<span style="color:#808030; ">[</span>j<span style="color:#808030; ">+</span><span style="color:#808030; ">+</span><span style="color:#808030; ">]</span> <span style="color:#808030; ">=</span> str<span style="color:#808030; ">[</span>i<span style="color:#808030; ">]</span><span style="color:#800080; ">;</span>
            <span style="color:#800080; ">}</span>
            <span style="color:#800000; font-weight:bold; ">else</span> <span style="color:#800080; ">{</span>
                temp_len<span style="color:#808030; ">-</span><span style="color:#808030; ">-</span><span style="color:#800080; ">;</span>
            <span style="color:#800080; ">}</span>
        <span style="color:#800080; ">}</span>
        <span style="color:#603000; ">strcpy</span><span style="color:#808030; ">(</span>str<span style="color:#808030; ">,</span> temp_str<span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>  <span style="color:#696969; ">// 把str字串利用strcpy函式複製成temp_str字串</span>
        len <span style="color:#808030; ">=</span> temp_len<span style="color:#800080; ">;</span>
    <span style="color:#800080; ">}</span>

    <span style="color:#696969; ">// 答案輸出</span>
    <span style="color:#603000; ">printf</span><span style="color:#808030; ">(</span><span style="color:#800000; ">"</span><span style="color:#0000e6; ">Ans=</span><span style="color:#800000; ">"</span><span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>
    <span style="color:#800000; font-weight:bold; ">for</span> <span style="color:#808030; ">(</span><span style="color:#800000; font-weight:bold; ">int</span> i <span style="color:#808030; ">=</span> <span style="color:#008c00; ">0</span><span style="color:#800080; ">;</span> i <span style="color:#808030; ">&lt;</span> len<span style="color:#800080; ">;</span> i<span style="color:#808030; ">+</span><span style="color:#808030; ">+</span><span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
        <span style="color:#603000; ">printf</span><span style="color:#808030; ">(</span><span style="color:#800000; ">"</span><span style="color:#007997; ">%c</span><span style="color:#800000; ">"</span><span style="color:#808030; ">,</span> str<span style="color:#808030; ">[</span>i<span style="color:#808030; ">]</span><span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>
    <span style="color:#800080; ">}</span>
    <span style="color:#603000; ">printf</span><span style="color:#808030; ">(</span><span style="color:#800000; ">"</span><span style="color:#0f69ff; ">\n</span><span style="color:#800000; ">"</span><span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>
    <span style="color:#800000; font-weight:bold; ">return</span> <span style="color:#008c00; ">0</span><span style="color:#800080; ">;</span>
<span style="color:#800080; ">}</span>
</pre>    
                </td>
            </tr>

        </table>

    </body>
</html>