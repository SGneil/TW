<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <title>朝陽資工程檢參考範例-第十八題</title>
        <link href="style.css" rel="stylesheet" type="text/css">
    </head>
    <body>

        <nav>    
            <ul>
                <li>
                    <form action="page.html">
                        <input class="touch" type="submit" value="目錄" />
                    </form>
                </li>
                <li >
                    <form  action="https://csie.cyut.edu.tw/p/405-1044-11629,c811.php?Lang=zh-tw">
                        <input class="touch" type="submit" value="朝陽資工程檢練習平台" />
                    </form>
                </li>
                <li>
                    <form action="home.html">
                        <input class="touch" type="submit" value="首頁HOME" />
                    </form>
                </li>
                <li style="float: left; padding-right: 100px;">
                    <form>
                        <input type="submit" value="朝陽資工程檢參考範例 - 第十八題" />
                    </form>
                </li>
                <li style="float: left;">
                    <form action="question17.html">
                        <input class="touch" type="submit" value="上一題" />
                    </form>
                </li>
                <li style="float: left;">
                    <form action="question19.html">
                        <input class="touch" type="submit" value="下一題" />
                    </form>
                </li>
            </ul>
        </nav>

        <table>
            <tr>
                <td class="table_title">題目</td>
                <td class="table_title">程式碼</td>
            </tr>

            <tr>
                <td class="display" valign="top">
                    <h4>
                        閏年的規則為每三年後第 4 年的 2 月為 29 日，請由檔案 d.txt 中讀入一個日期，格式為(西元制年 月 日，且年度範圍為 1900 1 月 1 日至 2100 12 月 31 日)請先判斷日期是否合法？如果合法請輸出此日期為星期幾？(可以使用今天為基準來進行推算)<br />
                        (Sunday, Monday, Tuesday, Wednesday, Thursday, Friday, Saturday)<br />
                        <br />
                        範例輸入一：<br />
                        1988 9 32<br />
                        範例輸出一：<br />
                        1988 9 32<br />
                        Ans=Error<br />
                        範例輸入二：<br />
                        2002 11 10
                        範例輸出二：<br />
                        2002 11 10<br />
                        Ans=Sunday<br />
                        <br />
                        (0)<br />
                        範例輸入：<br />
                        1988 9 32<br />
                        範例輸出：<br />
                        1988 9 32<br />
                        Ans=Error<br />
                        <br />
                        (1)<br />
                        範例輸入：<br />
                        2002 11 10<br />
                        範例輸出：<br />
                        2002 11 10<br />
                        Ans=Sunday<br />

                        <br />
                        (2)<br />
                        範例輸入：<br />
                        2036 2 29<br />
                        範例輸出：<br />
                        2036 2 29<br />
                        Ans=Friday<br />
                        <br />
                    </h4>
                </td>
                <td class="word" valign="top">

<pre style="color:#000000;"><span style="color:#004a43; ">#</span><span style="color:#004a43; ">include </span><span style="color:#800000; ">&lt;</span><span style="color:#40015a; ">stdio.h</span><span style="color:#800000; ">&gt;</span>
<span style="color:#696969; ">// 計算星期</span>
<span style="color:#800000; font-weight:bold; ">int</span> week<span style="color:#808030; ">(</span><span style="color:#800000; font-weight:bold; ">int</span> year<span style="color:#808030; ">,</span> <span style="color:#800000; font-weight:bold; ">int</span> month<span style="color:#808030; ">,</span> <span style="color:#800000; font-weight:bold; ">int</span> day<span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
    <span style="color:#800000; font-weight:bold; ">int</span> ans <span style="color:#808030; ">=</span> day<span style="color:#800080; ">;</span>
    ans <span style="color:#808030; ">+</span><span style="color:#808030; ">=</span> month_value<span style="color:#808030; ">(</span>month<span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>
    ans <span style="color:#808030; ">+</span><span style="color:#808030; ">=</span> year <span style="color:#808030; ">%</span> <span style="color:#008c00; ">100</span><span style="color:#800080; ">;</span>
    ans <span style="color:#808030; ">+</span><span style="color:#808030; ">=</span> year <span style="color:#808030; ">%</span> <span style="color:#008c00; ">100</span> <span style="color:#808030; ">/</span> <span style="color:#008c00; ">4</span><span style="color:#800080; ">;</span>
    ans <span style="color:#808030; ">+</span><span style="color:#808030; ">=</span> century_value<span style="color:#808030; ">(</span>year<span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>
    ans <span style="color:#808030; ">-</span><span style="color:#808030; ">=</span> is_leap_year<span style="color:#808030; ">(</span>year<span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>
    ans <span style="color:#808030; ">%</span><span style="color:#808030; ">=</span> <span style="color:#008c00; ">7</span><span style="color:#800080; ">;</span>
    <span style="color:#800000; font-weight:bold; ">return</span> ans<span style="color:#800080; ">;</span>
<span style="color:#800080; ">}</span>

<span style="color:#696969; ">// 計算月值</span>
<span style="color:#800000; font-weight:bold; ">int</span> month_value<span style="color:#808030; ">(</span><span style="color:#800000; font-weight:bold; ">int</span> month<span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
    <span style="color:#800000; font-weight:bold; ">if</span> <span style="color:#808030; ">(</span>month <span style="color:#808030; ">=</span><span style="color:#808030; ">=</span> <span style="color:#008c00; ">1</span> <span style="color:#808030; ">|</span><span style="color:#808030; ">|</span> month <span style="color:#808030; ">=</span><span style="color:#808030; ">=</span> <span style="color:#008c00; ">10</span><span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
        <span style="color:#800000; font-weight:bold; ">return</span> <span style="color:#008c00; ">6</span><span style="color:#800080; ">;</span>
    <span style="color:#800080; ">}</span>
    <span style="color:#800000; font-weight:bold; ">else</span> <span style="color:#800000; font-weight:bold; ">if</span> <span style="color:#808030; ">(</span>month <span style="color:#808030; ">=</span><span style="color:#808030; ">=</span> <span style="color:#008c00; ">2</span> <span style="color:#808030; ">|</span><span style="color:#808030; ">|</span> month <span style="color:#808030; ">=</span><span style="color:#808030; ">=</span> <span style="color:#008c00; ">3</span> <span style="color:#808030; ">|</span><span style="color:#808030; ">|</span> month <span style="color:#808030; ">=</span><span style="color:#808030; ">=</span> <span style="color:#008c00; ">11</span><span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
        <span style="color:#800000; font-weight:bold; ">return</span> <span style="color:#008c00; ">2</span><span style="color:#800080; ">;</span>
    <span style="color:#800080; ">}</span>
    <span style="color:#800000; font-weight:bold; ">else</span> <span style="color:#800000; font-weight:bold; ">if</span> <span style="color:#808030; ">(</span>month <span style="color:#808030; ">=</span><span style="color:#808030; ">=</span> <span style="color:#008c00; ">4</span> <span style="color:#808030; ">|</span><span style="color:#808030; ">|</span> month <span style="color:#808030; ">=</span><span style="color:#808030; ">=</span> <span style="color:#008c00; ">7</span><span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
        <span style="color:#800000; font-weight:bold; ">return</span> <span style="color:#008c00; ">5</span><span style="color:#800080; ">;</span>
    <span style="color:#800080; ">}</span>
    <span style="color:#800000; font-weight:bold; ">else</span> <span style="color:#800000; font-weight:bold; ">if</span> <span style="color:#808030; ">(</span>month <span style="color:#808030; ">=</span><span style="color:#808030; ">=</span> <span style="color:#008c00; ">5</span><span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
        <span style="color:#800000; font-weight:bold; ">return</span> <span style="color:#008c00; ">0</span><span style="color:#800080; ">;</span>
    <span style="color:#800080; ">}</span>
    <span style="color:#800000; font-weight:bold; ">else</span> <span style="color:#800000; font-weight:bold; ">if</span> <span style="color:#808030; ">(</span>month <span style="color:#808030; ">=</span><span style="color:#808030; ">=</span> <span style="color:#008c00; ">6</span><span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
        <span style="color:#800000; font-weight:bold; ">return</span> <span style="color:#008c00; ">3</span><span style="color:#800080; ">;</span>
    <span style="color:#800080; ">}</span>
    <span style="color:#800000; font-weight:bold; ">else</span> <span style="color:#800000; font-weight:bold; ">if</span> <span style="color:#808030; ">(</span>month <span style="color:#808030; ">=</span><span style="color:#808030; ">=</span> <span style="color:#008c00; ">8</span><span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
        <span style="color:#800000; font-weight:bold; ">return</span> <span style="color:#008c00; ">1</span><span style="color:#800080; ">;</span>
    <span style="color:#800080; ">}</span>
    <span style="color:#800000; font-weight:bold; ">else</span> <span style="color:#800080; ">{</span>
        <span style="color:#800000; font-weight:bold; ">return</span> <span style="color:#008c00; ">4</span><span style="color:#800080; ">;</span>
    <span style="color:#800080; ">}</span>
<span style="color:#800080; ">}</span>

<span style="color:#696969; ">// 計算世紀值</span>
<span style="color:#800000; font-weight:bold; ">int</span> century_value<span style="color:#808030; ">(</span><span style="color:#800000; font-weight:bold; ">int</span> year<span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
    <span style="color:#800000; font-weight:bold; ">if</span> <span style="color:#808030; ">(</span>year <span style="color:#808030; ">/</span> <span style="color:#008c00; ">100</span> <span style="color:#808030; ">=</span><span style="color:#808030; ">=</span> <span style="color:#008c00; ">19</span><span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
        <span style="color:#800000; font-weight:bold; ">return</span> <span style="color:#008c00; ">1</span><span style="color:#800080; ">;</span>
    <span style="color:#800080; ">}</span>
    <span style="color:#800000; font-weight:bold; ">return</span> <span style="color:#008c00; ">0</span><span style="color:#800080; ">;</span>
<span style="color:#800080; ">}</span>

<span style="color:#696969; ">// 判斷是否為閏年</span>
<span style="color:#800000; font-weight:bold; ">int</span> is_leap_year<span style="color:#808030; ">(</span><span style="color:#800000; font-weight:bold; ">int</span> year<span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
    <span style="color:#800000; font-weight:bold; ">if</span> <span style="color:#808030; ">(</span>year <span style="color:#808030; ">%</span> <span style="color:#008c00; ">4</span> <span style="color:#808030; ">=</span><span style="color:#808030; ">=</span> <span style="color:#008c00; ">0</span><span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
        <span style="color:#800000; font-weight:bold; ">if</span> <span style="color:#808030; ">(</span>year <span style="color:#808030; ">%</span> <span style="color:#008c00; ">100</span> <span style="color:#808030; ">!</span><span style="color:#808030; ">=</span> <span style="color:#008c00; ">0</span><span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
            <span style="color:#800000; font-weight:bold; ">return</span> <span style="color:#008c00; ">1</span><span style="color:#800080; ">;</span>
        <span style="color:#800080; ">}</span>
        <span style="color:#800000; font-weight:bold; ">else</span> <span style="color:#800000; font-weight:bold; ">if</span> <span style="color:#808030; ">(</span>year <span style="color:#808030; ">%</span> <span style="color:#008c00; ">400</span> <span style="color:#808030; ">=</span><span style="color:#808030; ">=</span> <span style="color:#008c00; ">0</span><span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
            <span style="color:#800000; font-weight:bold; ">return</span> <span style="color:#008c00; ">1</span><span style="color:#800080; ">;</span>
        <span style="color:#800080; ">}</span>
    <span style="color:#800080; ">}</span>
    <span style="color:#800000; font-weight:bold; ">return</span> <span style="color:#008c00; ">0</span><span style="color:#800080; ">;</span>
<span style="color:#800080; ">}</span>

<span style="color:#696969; ">// 判斷輸入資料是否正確</span>
<span style="color:#800000; font-weight:bold; ">int</span> check<span style="color:#808030; ">(</span><span style="color:#800000; font-weight:bold; ">int</span> year<span style="color:#808030; ">,</span> <span style="color:#800000; font-weight:bold; ">int</span> month<span style="color:#808030; ">,</span> <span style="color:#800000; font-weight:bold; ">int</span> day<span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
    <span style="color:#800000; font-weight:bold; ">if</span> <span style="color:#808030; ">(</span>year <span style="color:#808030; ">&lt;</span> <span style="color:#008c00; ">1900</span> <span style="color:#808030; ">|</span><span style="color:#808030; ">|</span> year <span style="color:#808030; ">&gt;</span> <span style="color:#008c00; ">2100</span><span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
        <span style="color:#800000; font-weight:bold; ">return</span> <span style="color:#008c00; ">0</span><span style="color:#800080; ">;</span>
    <span style="color:#800080; ">}</span>
    <span style="color:#800000; font-weight:bold; ">else</span> <span style="color:#800000; font-weight:bold; ">if</span> <span style="color:#808030; ">(</span>month <span style="color:#808030; ">&lt;</span> <span style="color:#008c00; ">1</span> <span style="color:#808030; ">|</span><span style="color:#808030; ">|</span> month <span style="color:#808030; ">&gt;</span> <span style="color:#008c00; ">12</span><span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
        <span style="color:#800000; font-weight:bold; ">return</span> <span style="color:#008c00; ">0</span><span style="color:#800080; ">;</span>
    <span style="color:#800080; ">}</span>
    <span style="color:#800000; font-weight:bold; ">else</span> <span style="color:#800000; font-weight:bold; ">if</span> <span style="color:#808030; ">(</span>day <span style="color:#808030; ">&lt;</span> <span style="color:#008c00; ">1</span> <span style="color:#808030; ">|</span><span style="color:#808030; ">|</span> day <span style="color:#808030; ">&gt;</span> <span style="color:#008c00; ">31</span><span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
        <span style="color:#800000; font-weight:bold; ">return</span> <span style="color:#008c00; ">0</span><span style="color:#800080; ">;</span>
    <span style="color:#800080; ">}</span>
    <span style="color:#800000; font-weight:bold; ">return</span> <span style="color:#008c00; ">1</span><span style="color:#800080; ">;</span>
<span style="color:#800080; ">}</span>

<span style="color:#800000; font-weight:bold; ">int</span> <span style="color:#400000; ">main</span><span style="color:#808030; ">(</span><span style="color:#800000; font-weight:bold; ">void</span><span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
    <span style="color:#696969; ">// 讀入輸入資料</span>
    <span style="color:#800000; font-weight:bold; ">int</span> year<span style="color:#808030; ">,</span> month<span style="color:#808030; ">,</span> day<span style="color:#800080; ">;</span>
    <span style="color:#603000; ">scanf</span><span style="color:#808030; ">(</span><span style="color:#800000; ">"</span><span style="color:#007997; ">%d</span><span style="color:#0000e6; "> </span><span style="color:#007997; ">%d</span><span style="color:#0000e6; "> </span><span style="color:#007997; ">%d</span><span style="color:#800000; ">"</span><span style="color:#808030; ">,</span> <span style="color:#808030; ">&amp;</span>year<span style="color:#808030; ">,</span> <span style="color:#808030; ">&amp;</span>month<span style="color:#808030; ">,</span> <span style="color:#808030; ">&amp;</span>day<span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>

    <span style="color:#696969; ">// 印出答案</span>
    <span style="color:#603000; ">printf</span><span style="color:#808030; ">(</span><span style="color:#800000; ">"</span><span style="color:#007997; ">%d</span><span style="color:#0000e6; "> </span><span style="color:#007997; ">%d</span><span style="color:#0000e6; "> </span><span style="color:#007997; ">%d</span><span style="color:#0f69ff; ">\n</span><span style="color:#800000; ">"</span><span style="color:#808030; ">,</span> year<span style="color:#808030; ">,</span> month<span style="color:#808030; ">,</span> day<span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>
    <span style="color:#800000; font-weight:bold; ">if</span> <span style="color:#808030; ">(</span>check<span style="color:#808030; ">(</span>year<span style="color:#808030; ">,</span> month<span style="color:#808030; ">,</span> day<span style="color:#808030; ">)</span><span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
        <span style="color:#800000; font-weight:bold; ">int</span> ans <span style="color:#808030; ">=</span> week<span style="color:#808030; ">(</span>year<span style="color:#808030; ">,</span> month<span style="color:#808030; ">,</span> day<span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>
        <span style="color:#800000; font-weight:bold; ">if</span> <span style="color:#808030; ">(</span>ans <span style="color:#808030; ">=</span><span style="color:#808030; ">=</span> <span style="color:#008c00; ">0</span><span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
            <span style="color:#603000; ">printf</span><span style="color:#808030; ">(</span><span style="color:#800000; ">"</span><span style="color:#0000e6; ">Ans=Sunday</span><span style="color:#0f69ff; ">\n</span><span style="color:#800000; ">"</span><span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>
        <span style="color:#800080; ">}</span>
        <span style="color:#800000; font-weight:bold; ">else</span> <span style="color:#800000; font-weight:bold; ">if</span> <span style="color:#808030; ">(</span>ans <span style="color:#808030; ">=</span><span style="color:#808030; ">=</span> <span style="color:#008c00; ">1</span><span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
            <span style="color:#603000; ">printf</span><span style="color:#808030; ">(</span><span style="color:#800000; ">"</span><span style="color:#0000e6; ">Ans=Monday</span><span style="color:#0f69ff; ">\n</span><span style="color:#800000; ">"</span><span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>
        <span style="color:#800080; ">}</span>
        <span style="color:#800000; font-weight:bold; ">else</span> <span style="color:#800000; font-weight:bold; ">if</span> <span style="color:#808030; ">(</span>ans <span style="color:#808030; ">=</span><span style="color:#808030; ">=</span> <span style="color:#008c00; ">2</span><span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
            <span style="color:#603000; ">printf</span><span style="color:#808030; ">(</span><span style="color:#800000; ">"</span><span style="color:#0000e6; ">Ans=Tuesday</span><span style="color:#0f69ff; ">\n</span><span style="color:#800000; ">"</span><span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>
        <span style="color:#800080; ">}</span>
        <span style="color:#800000; font-weight:bold; ">else</span> <span style="color:#800000; font-weight:bold; ">if</span> <span style="color:#808030; ">(</span>ans <span style="color:#808030; ">=</span><span style="color:#808030; ">=</span> <span style="color:#008c00; ">3</span><span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
            <span style="color:#603000; ">printf</span><span style="color:#808030; ">(</span><span style="color:#800000; ">"</span><span style="color:#0000e6; ">Ans=Wednesday</span><span style="color:#0f69ff; ">\n</span><span style="color:#800000; ">"</span><span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>
        <span style="color:#800080; ">}</span>
        <span style="color:#800000; font-weight:bold; ">else</span> <span style="color:#800000; font-weight:bold; ">if</span> <span style="color:#808030; ">(</span>ans <span style="color:#808030; ">=</span><span style="color:#808030; ">=</span> <span style="color:#008c00; ">4</span><span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
            <span style="color:#603000; ">printf</span><span style="color:#808030; ">(</span><span style="color:#800000; ">"</span><span style="color:#0000e6; ">Ans=Thursday</span><span style="color:#0f69ff; ">\n</span><span style="color:#800000; ">"</span><span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>
        <span style="color:#800080; ">}</span>
        <span style="color:#800000; font-weight:bold; ">else</span> <span style="color:#800000; font-weight:bold; ">if</span> <span style="color:#808030; ">(</span>ans <span style="color:#808030; ">=</span><span style="color:#808030; ">=</span> <span style="color:#008c00; ">5</span><span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
            <span style="color:#603000; ">printf</span><span style="color:#808030; ">(</span><span style="color:#800000; ">"</span><span style="color:#0000e6; ">Ans=Friday</span><span style="color:#0f69ff; ">\n</span><span style="color:#800000; ">"</span><span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>
        <span style="color:#800080; ">}</span>
        <span style="color:#800000; font-weight:bold; ">else</span> <span style="color:#800000; font-weight:bold; ">if</span> <span style="color:#808030; ">(</span>ans <span style="color:#808030; ">=</span><span style="color:#808030; ">=</span> <span style="color:#008c00; ">6</span><span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
            <span style="color:#603000; ">printf</span><span style="color:#808030; ">(</span><span style="color:#800000; ">"</span><span style="color:#0000e6; ">Ans=Saturday</span><span style="color:#0f69ff; ">\n</span><span style="color:#800000; ">"</span><span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>
        <span style="color:#800080; ">}</span>
    <span style="color:#800080; ">}</span>
    <span style="color:#800000; font-weight:bold; ">else</span> <span style="color:#800080; ">{</span>
        <span style="color:#603000; ">printf</span><span style="color:#808030; ">(</span><span style="color:#800000; ">"</span><span style="color:#0000e6; ">Ans=Error</span><span style="color:#0f69ff; ">\n</span><span style="color:#800000; ">"</span><span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>
    <span style="color:#800080; ">}</span>
    <span style="color:#800000; font-weight:bold; ">return</span> <span style="color:#008c00; ">0</span><span style="color:#800080; ">;</span>
<span style="color:#800080; ">}</span>
</pre>

                </td>
            </tr>

        </table>

    </body>
</html>